extends ../head

append css
	link(rel='stylesheet', href='/css/metricscreate.css')

block content
	.container
		form(method='post')
			h2 Metrics for #{proposal.ProposalTitle}
			a(href='/metrics/#{proposal.id}') Return to Metrics
			|  / 
			a(href='/proposals/#{proposal.id}') View Proposal
			
			p= questions.general[1]
			.row
				- for (index in questions.general) {
					- var n = 1
					- var count = 0
					- var val = questions.general[index]
					- for (i in questions.general[index]) {
					- 	count++;
					- }
					//-p  #{count}  
					while n < count
						.col-lg-3.col-md-4.col-sm-6.col-xs-12.cols
							.question-wrap
								h4= val.name
								p #{val[n]}
								.input-wrap-outer
									p.score score: 
										//-p= metric[index + n]
										if n == 1
											input(name='#{index + n}' type='number' size='3' autofocus='autofocus' required='required' min='1' max='5' value='#{(metric) ? metric[index + n] : ""}')
										else
											input(name='#{index + n}' type='number' size='3' required='required' min='1' max='5' value='#{(metric) ? metric[index + n] : ""}')
						- n++ 
				- }


				- var n = 1
				- var count = 0
				- for (i in questions.special[proposal.Category]) {
				- 	count++
				- }
				while n < count
					.col-lg-3.col-md-4.col-sm-6.col-xs-12.cols
						.question-wrap
							h4= questions.special[proposal.Category].name
							p #{questions.special[proposal.Category][n]}
							.input-wrap-outer
								p.score score: 
									input(name= '#{"X" + n}' type='number' size='3' required='required' min='1' max='5' value='#{(metric) ? metric["X" + n] : ""}')
					- n++
				.col-xs-12
					.question-wrap
						h4 Additional Notes
						.text-wrap: textarea(name="Notes") #{(metric) ? metric["Notes"] : ""}
			p.subtitle Jump to proposal ID 
				input(name='Next' type='number' size='4')
				|  on submit
			button(action='submit' value='Submit').btn.btn-default.form-button Submit Metrics